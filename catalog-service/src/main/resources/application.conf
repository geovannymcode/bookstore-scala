# application.conf
# Configuración del servicio Catalog

catalog {
  # Nombre del servicio
  name = "catalog-service"
  name = ${?CATALOG_SERVICE_NAME}

  # Tamaño de página para paginación
  page-size = 10
  page-size = ${?CATALOG_PAGE_SIZE}
}

# Configuración de base de datos
database {
  # URL de conexión (con fallback a variable de entorno)
  url = "jdbc:postgresql://localhost:15432/postgres"
  url = ${?DB_URL}

  username = "postgres"
  username = ${?DB_USERNAME}

  password = "postgres"
  password = ${?DB_PASSWORD}

  driver = "org.postgresql.Driver"

  # Configuración del pool de conexiones (HikariCP)
  pool {
    minimum-idle = 5
    maximum-pool-size = 20
    connection-timeout = 30000
    idle-timeout = 600000
    max-lifetime = 1800000
  }
}

# Configuración del servidor HTTP
http {
  host = "0.0.0.0"
  host = ${?HTTP_HOST}

  port = 8081
  port = ${?HTTP_PORT}

  # Graceful shutdown timeout
  termination-deadline = 10s
}

# Configuración de Swagger/OpenAPI
swagger {
  api-gateway-url = "http://localhost:8989/catalog"
  api-gateway-url = ${?SWAGGER_API_GATEWAY_URL}
}

# Configuración de Akka (opcional pero recomendado)
akka {
  loglevel = "INFO"
  loglevel = ${?AKKA_LOG_LEVEL}

  http {
    server {
      idle-timeout = 60s
      request-timeout = 20s
      bind-timeout = 1s
    }
  }
}